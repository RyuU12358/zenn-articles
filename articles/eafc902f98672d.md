---
title: "複雑な数式を、他人に説明できる形にしたかった"
emoji: "🧩"
type: "tech"
topics: ["ui", "数式", "個人開発", "blockly"]
published: false
---

## はじめに

Excel などのスプレッドシートで、  
後から見返すと「これ、他の人にどう説明すればいいんだろう」と思う数式に出会うことがあります。

特に IF が重なった数式や、条件分岐が増えていったものは、  
自分で書いたはずなのに、時間が経つと把握するのが難しくなります。

## よくある解決策と、その限界

一般的には、

- 数式を複数の補助列に分解する
- 各列にコメントを付ける
- 前の結果を次の計算で使う

といった設計で可読性を上げることが多いと思います。

自分も普段はこの方法を使っていますし、  
新しく作るシートであればかなり有効です。

ただ、**すでに存在している大きな数式**や、  
**簡単には構成を変えられないシート**では、  
このやり方が取れないケースもありました。

## 発想を変えてみる

そこで考えたのが、

> 数式を書き換えられないなら、  
> **見せ方だけ変えられないか？**

という発想です。

数式を「文字列」として読むのではなく、  
**構造（条件・分岐・依存関係）として把握できれば**、  
説明や小さな修正がしやすくなるのではないかと思いました。

## 試作したもの

この考えを試すために、  
Blockly を使って数式を構造的に扱うツールを作ってみました。

- 数式をブロックとして表現する
- 条件分岐や引数の関係が視覚的に分かる
- 数式を「再設計する」ためではなく、  
  **理解や説明を補助する**ことを目的にしています

![条件分岐を構造として表現した例](../images/frockly-if-structure.png)

## 使ってみて思ったこと

正直なところ、  
この方法が従来の設計手法より優れているかは、まだ分かりません。

ただ、

- どこで条件が分岐しているか
- 今どの部分を見ているのか
- 他人に説明するときに、どこから話せばいいか

といった点は、把握しやすくなったと感じています。

## おわりに

この試みは、  
「数式を書くためのツール」というよりも、  
**数式を説明するための表現**を探る実験に近いものです。

まだ仮説段階ですが、  
同じように「説明しづらい数式」に悩んだことがある人にとって、  
何かのヒントになればと思っています。

試作版：
https://ryuu12358.github.io/Frockly/
